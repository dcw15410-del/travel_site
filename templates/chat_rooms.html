{% extends "base.html" %}
{% block title %}채팅방 목록{% endblock %}
{% block content %}
<h2>채팅방</h2>
<div class="list-group">
  {% for room in chat_rooms %}
  <a href="{{ url_for('chat', room=room) }}" class="list-group-item list-group-item-action">
    {{ room }} ({{ room_users[room] }}) - {{ room_times[room] }}
  </a>
  {% endfor %}
</div>
<script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
<script>
const socket = io();
socket.on("room_users_update", data => {
  console.log("인원 업데이트", data);
  location.reload();
});
</script>
{% endblock %}
