{% extends "base.html" %}
{% block title %}환율 계산{% endblock %}
{% block head %}
<script>
function convertCurrency() {
    const from = document.getElementById('from').value;
    const to = document.getElementById('to').value;
    const amount = parseFloat(document.getElementById('amount').value) || 1;
    fetch(`/convert_currency?from=${from}&to=${to}&amount=${amount}`)
        .then(r => r.json())
        .then(data => {
            if(data.error) alert(data.error);
            else document.getElementById('result').textContent = `결과: ${data.result} (${from}→${to}, 환율: ${data.rate})`;
        });
}
</script>
{% endblock %}
{% block content %}
<h2>환율 계산</h2>
<label>금액: <input type="number" id="amount" value="1"></label><br>
<label>변환:
    <select id="from">{% for k,v in currencies.items() %}<option value="{{ k }}">{{ v }}</option>{% endfor %}</select>
    →
    <select id="to">{% for k,v in currencies.items() %}<option value="{{ k }}">{{ v }}</option>{% endfor %}</select>
</label><br>
<button onclick="convertCurrency()">계산</button>
<p id="result"></p>
<button onclick="history.back()">돌아가기</button>
{% endblock %}
